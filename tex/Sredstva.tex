\chapter{Sredstva iz matematične analize}


V tem poglavju bomo navedli nekaj bistvenih pojmov in rezultatov iz matematične analize,
ki so potrebni za razumevanje nadaljnje vsebine. Predpostavlja
se, da bralec te pojme in rezultate že pozna, zato večine izrekov in trditev
tu ne bomo dokazovali. Razdelek služi bolj predstavitvi oznak, ki jih
bomo uporabljali v nadaljevanju.


\section{Odvod na Banachovem prostoru}


\begin{definicija} \label{def:odvod}
	Naj bosta $(V,\|\cdot\|_V)$, $(W,\|\cdot\|_W)$ Banachova prostora, $U\subseteq V$ odprta
	množica in $F\colon U\to W$ preslikava. $F$ je \emph{odvedljiva}
	(v smislu Frécheta) v točki $u\in U$, če obstaja omejena (ekvivalentno: zvezna) linearna preslikava
	\[ DF(u)\colon V\to W, \]
	da za vsak $v\in V$ velja
	\begin{equation} \label{e:frede}
		\lim_{v\to 0}\frac{\|F(u+v)-F(u)-DF(u)(v)\|_W}{\|v\|_V}=0.
	\end{equation}
	$F$ je \emph{odvedljiva na $U$}, če je odvedljiva v vsaki točki $u\in U$.
	$DF(u)$ imenujemo \emph{(krepki ali Fréchetov) odvod} preslikave $F$.
	
	$F$ \emph{je razreda $C^1$} na $U$ (pišemo tudi: $F\in C^1(U,W)$ ali pa $F\in C^1(U)$,
	če je kodomena jasna iz konteksta), če je preslikava $u\mapsto DF(u)$ zvezna.
	$F$ \emph{je razreda $C^2$} na $U$ ($F\in C^2(U,W)$ ali $F\in C^2(U)$),
	če je preslikava $u\mapsto D^2F(u)=D(DF)(u)$ zvezna. Induktivno definiramo še $D^rF(u)$ in pojem
	$F$ \emph{je razreda $C^r$} za poljuben $r\in\mathbb{N}$. $F$ je \emph{gladka} na $U$,
	če je $F\in C^r(U,W)$ za vsak $r\in\mathbb{N}$.
\end{definicija}

Če odvod odbstaja, je enoličen. Odvedljiva preslikava je hkrati tudi zvezna.
Linearna preslikava med končnorazsežnima Banachovima prostoroma je vedno omejena
oz.~zvezna. Pogoj (\ref{e:frede}) je ekvivalenten pogoju
\begin{equation*} %\label{e:odekvi}
	F(u+v)=F(u)+DF(u)(v)+o(v)\quad\textrm{in}\quad
	\lim_{v\to 0}\frac{\|o(v)\|_W}{\|v\|_V}=0.
\end{equation*}

\begin{dogovor} \label{d:riesz}
	\begin{enumerate}
		\item Če je v definiciji \ref{def:odvod} $V=\R$, potem namesto $DF(u)$ pišemo $F'(u)$.
		V tem primeru je, striktno gledano, $F'(u)$ linearna preslikava iz $\R$ v $W$, kar je
		množenje nekega elementa $w\in W$ z realnim številom, zato kar
		enačimo $F'(u)$ s tem elementom $w$.
		\item Če je v definiciji \ref{def:odvod} $W=\R$ in je $V$ opremljen s skalarnim produktom,
		potem je $DF(u)$ linearen funkcional, ki mu po Riezsovem izreku o reprezentaciji
		linearnih funkcionalov pripada enolično določen $w\in V$, da velja
		\[
			DF(u)(v)=\langle w,v\rangle \qquad\forall\; v\in V.
		\]
		Po dogovoru bomo $DF(u)$ kar enačili s pripadajočim vektorjem $w$ in bomo pisali
		$DF(u)(v)=\langle DF(u),v\rangle$.
	\end{enumerate}
\end{dogovor}

\begin{definicija}
	Naj bosta $V$, $W$ Banachova prostora, $U\subseteq V$ odprta
	množica in $F\colon U\to W$ preslikava. \emph{Šibki odvod} (tudi: \emph{Gâteauxov} ali
	\emph{smerni odvod}) preslikave $F$ v $u\in U$ in v smeri $v\in V$ je
	\begin{equation*} %\label{e:smero}
		\delta F(u)(v) =
		\lim_{\varepsilon\to 0}\frac{F(u+\varepsilon v)-F(u)}{\varepsilon}
		=\at{\frac{d}{d\varepsilon}F(u+\varepsilon v)}{\varepsilon = 0},
	\end{equation*}
	če obstaja.
\end{definicija}

\begin{trditev}
	Naj bo $F$ kot v prejšnjih definicijah. Če je $F$ odvedljiva v $u\in U$,
	potem obstaja šibki odvod preslikave $F$ v $u$ v smeri vsakega vektorja $v\in V$
	in velja
	\[
		\delta F(u)(v)=DF(u)(v).
	\]
\end{trditev}

\begin{izrek}[Odvod kompozituma]
	Naj bodo $V$, $W$, $Y$ Banachovi prostori, $U\subseteq V$ in $\Omega\subseteq W$ odprti
	množici in $F\colon U\to W$ ter $G\colon\Omega\to Y$ odvedljivi preslikavi,
	tako da je $F(U)\subseteq\Omega$.
	Potem je $G\circ F\colon U\to Z$ odvedljiva in za vsak $u\in U$ velja
	\begin{equation} \label{e:odkompo}
		D(G\circ F)(u)=DG(F(u))\circ DF(u).
	\end{equation}
\end{izrek}
Če je $v\in V$, potem (\ref{e:odkompo}) pomeni
\[
	D(G\circ F)(u)(v)=DG(F(u))(DF(u)(v)).
\]
Ta izrek je poznan tudi pod imenom \emph{verižno pravilo}.

\begin{izrek}[Odvod produkta]
	Naj bodo $V$, $W_1$, $W_2$, $Y$ Banachovi prostori,
	$U\subseteq V$ odprta množica,
	\[
		F\colon U\to W_1,\qquad G\colon U\to W_2
	\]
	odvedljivi preslikavi in
	\[ \pi\colon W_1\times W_2\to Y \]
	bilinearna preslikava. Potem je produkt
	\[
		H\colon U\to Y, \qquad H(u)=\pi(F(u),G(u))
	\]
	odvedljiv v vsakem $u\in U$ in za vsak $v\in V$ velja
	\[
		DH(u)(v)=\pi\big(DF(u)(v),G(u)\big)+\pi\big(F(u),DG(u)(v)\big).
	\]
\end{izrek}
Pri tem bilinearna preslikava $\pi$ predstavlja katerikoli produkt, ki je bilinearen,
npr.~produkt vektorja s skalarjem, skalarni produkt vektorjev, vektorski produkt vektorjev,
tenzorski produkt vektorjev, produkt linearne prelikave in vektorja (aplikacija), itd.

\begin{izrek}[Izrek o inverzni funkciji]
	Naj bosta $V$, $W$ Banachova prostora, $U\subseteq V$ odprta in $x_0\in U$. Naj bo
	$F\colon U\to W$ razreda $C^1$ in predpostavimo, da je $DF(x_0)$ obrnljiva in
	ima zvezni inverz. Potem obstajata okolici $U_1\subseteq U$ točke $x_0$ in
	$U_2\subseteq W$ točke $y_0=F(x_0)$, tako da $F$ preslika $U_1$ bijektivno na
	$U_2$, inverz $\phi:=F^{-1}\colon U_2\to U_1$ je razreda $C^1$ in velja
	\[ D\phi(y_0)=(DF(x_0))^{-1}. \]
\end{izrek}

\begin{definicija}
	Naj bosta $V$, $W$ Banachova prostora, $U\subseteq V$ odprta in $F\colon U\to W$ preslikava. 
	$F$ je razreda $C^r$ ($r\in\mathbb{N}$) na zaprtju $\overline{U}$, če je razreda $C^r$ na $U$ in
	obstaja zvezna razširitev preslikave $x\mapsto D^rF(x)$ na $\overline{U}$.
\end{definicija}

\begin{comment}
Naj bosta $(V_1,\|\cdot\|_1)$, $(V_2,\|\cdot\|_2)$ Banachova prostora. $V=V_1\times V_2$
je vektorski prostor, z ustrezno definirano normo $\|\cdot\|_V$, porojeno iz norm $\|\cdot\|_1$ in $\|\cdot\|_2$,
pa postane Banachov prostor. Naj bo $F\colon U\to W$, kjer je $U\subseteq V$ odprta množica, in naj bosta
\[ U_1=\{x\in V_1\;;\ (x,y_0)\in U\}\quad\textrm{ter}\quad U_2=\{y\in V_2\;;\ (x_0,y)\in U\}. \]
Če v točki $(x_0,y_0)\in U$ obstajata
\begin{itemize}
\item odvod preslikave $F(\cdot,y_0)\colon U_1\to W$, ki ga označimo z $\partial_1 F(x_0,y_0)$ in
\item odvod preslikave $F(x_0,\cdot)\colon U_2\to W$, ki ga označimo z $\partial_2 F(x_0,y_0)$
\end{itemize}
in sta oba zvezna, potem je $F$ odvedljiva v $(x_0,y_0)$ in velja
\[ DF(x_0,y_0)(u,v)=\partial_1 F(x_0,y_0)(u)+\partial_2 F(x_0,y_0)(v). \]
\end{comment}


\section{Tenzorska analiza}


\subsection{Evklidski prostor} \label{s:evklipro}


V klasični mehaniki opisujemo dogodke v \emph{Newtonovem prostor-času}, kar je produkt
trirazsežnega Evklidskega prostora ter prostora realnih števil $\R$. Evklidski prostor nam služi
za opis položaja in geometrije objektov, prostor $\R$ pa predstavlja časovno os.

\begin{definicija} \label{d:ep}
	Množica točk $\E$ je \emph{Evklidski točkovni prostor} in trirazsežni Evklidski vektorski prostor $\V$ je
	\emph{translacijski prostor} za $\E$, če obstaja preslikava $\iota\colon\E\times\E\to\V$
	z naslednjimi lastnostmi:
	\begin{enumerate}
		\item Za vsak $x\in\E$ je $\iota(x,x)=\vek{0}$, ničelni vektor.
		\item Za vsak $o\in\E$ je preslikava
		\begin{equation} \label{e:iotx}
			\iota_o\colon\E\to\V,\qquad\iota_o(x)=\iota(o,x)
		\end{equation}
		bijektivna.
		\item Za vse $x,y,z\in\E$ velja $\iota(x,y)+\iota(y,z)=\iota(x,z)$.
	\end{enumerate}
	Preslikava (\ref{e:iotx}) se imenuje \emph{opazovališče} za $\E$.
\end{definicija}

Če preslikava $\iota$ iz definicije obstaja, potem je takih preslikav neskončno mnogo.
Opazovališče (\ref{e:iotx}) je odvisno od izbire preslikave $\iota$ in od izbire točke $o\in\E$,
ki jo imenujemo \emph{izhodišče}. 
V skladu z drugo točko definicije pripada vsaki točki $x\in\E$ glede na izhodišče $o$ \emph{krajevni vektor}
$\vek{x}=\iota(o,x)=\iota_o(x)\in \V$. Naj bo $\{\vek{e}_1,\vek{e}_2,\vek{e}_3\}$ ortonormirana baza prostora $\V$,
ki je desnosučna, tj.~$\vek{e}_3=\vek{e}_1\times\vek{e}_2$. Krajevni vektor $\vek{x}$
ima enoličen razvoj po bazi, $\vek{x}=x_i\vek{e}_i$, koeficientom $x_i$ tega razvoja pa rečemo
\emph{kartezijeve koordinate}. Te so odvisne od opazovališča in od ortonormirane baze.
Imamo bijektivno korespondenco med naslednjimi objekti:
\begin{itemize}
	\item točka $x\in\E$,
	\item krajevni vektor $\vek{x}=x_i\vek{e}_i\in \V$,
	\item kartezijeve koordinate $(x_1,x_2,x_3)\in\R^3$.
\end{itemize}

Razdalja med točkama $x,y\in\E$ je definirana kot $d(x,y)=\|\iota(x,y)\|$, kjer je $\|.\|$ norma na
vektorskem prostoru $\V$, porojena iz standardnega skalarnega produkta. $(\E,d)$ je metrični prostor.
Metrika je odvisna od izbire preslikave $\iota$.

Ko imamo izbrano preslikavo $\iota$, lahko definiramo odštevanje točk in sešte\-vanje točke in vektorja
na naslednji način. \label{seto}
\begin{itemize}
	\item Naj bo $x\in\E$ in $\vek{u}\in\V$. Potem je $x+\vek{u}$ tista točka $y\in\E$, za
	katero velja $\iota(x,y)=\vek{u}$.
	\item Naj bosta $x,y\in\E$. Potem je $y-x$ tisti vektor $\vek{u}\in\V$, za katerega
	velja $\vek{u}=\iota(x,y)$.
\end{itemize}
Na sliki \ref{pic:evk} je grafični prikaz omenjenih operacij.
\begin{figure}[ht] \begin{center}
	\input{img/evklidski}
	\caption{Grafični prikaz seštevanja točke in vektorja ter odštevanja dveh točk.}
	\label{pic:evk}
\end{center} \end{figure}

\begin{dogovor} \label{d:dogovor}
	Naj bo $V$ Banachov prostor ali pa prostor $\E$, naj bo $U\subseteq V$ in
	$F\colon U\to \E$. Z enakim simbolom, le da bo pisan krepko (v tem primeru $\vek{F}$),
	bomo označevali pripadajočo preslikavo
	\[
		\vek{F}\colon U\to\V,\qquad \vek{F}=\iota_o\circ F.
	\]
\end{dogovor}
Za $u\in U$ je torej $\vek{F}(u)$ krajevni vektor točke $F(u)$ glede na opazovališče $\iota_o$ za $\E$.

Prostor $\E\times\R$ se imenuje \emph{Newtonov prostor-čas}. Na njem lahko vpeljemo običajno evklidsko
metriko preko opazovališča za $\E$: Za $(x_1,t_1),(x_2,t_2)\in\E\times\R$ je njuna
medsebojna razdalja
\[
	d((x_1,t_1),(x_2,t_2))=\sqrt{\|\vek{x}_2-\vek{x}_1\|^2+(t_2-t_1)^2},
\]
kjer sta $\vek{x}_1=\iota_o(x_1)$ in $\vek{x}_2=\iota_o(x_2)$ krajevna vektorja točk $x_1$ in $x_2$.


\subsection{Tenzorji drugega reda} \label{pdrten2}


V tem podrazdelku naj oznaka $\V$ izjemoma pomeni $n$-razsežen vektorski prostor nad
obsegom realnih števil, saj rezultati, navedeni v tem podrazdelku, držijo za poljuben
končno razsežen vektorski prostor $\V$. Od tega podrazdelka dalje bo oznaka $\V$ vedno
služila za translacijski prostor Evklidskega trirazsežnega točkovnega prostora, zato bo vedno $n=3$.

$\V$ naj bo opremljen s standardnim skalarnim produktom $\langle\cdot,\cdot\rangle$.
Elemente oz.~vektorje prostora $\V$ bomo vedno označevali s krepkimi poševni\-mi simboli,
npr.~$\vek{u}$, $\vek{\eta}$, $\vek{F}$. Elemente prostora $\L(\V)$, t.j.~linearne
preslikave iz $\V$ v $\V$, bomo vedno označevali s krepkimi pokončnimi simboli, npr.~$\ten{F}$,
in jih kasneje imenovali \emph{tenzorji drugega reda} ali pa na kratko kar \emph{tenzorji}.
\footnote{Tenzorji drugega reda so v matematiki sicer bilinearne funkcije iz $\V\times\V$ v $\R$, vendar med 
bilinearnimi funkcijami in linearnimi preslikavami iz $\V$ v $\V$
obstaja povezava preko Riezsovega izreka, zato se v mehaniki
izraz \textit{tenzor} običajno uporablja kar za linearno preslikavo.}

Če bralec s pojmi in rezultati, podanimi v tem podrazdelku, še ni seznanjen, lahko
pripadajoče dokaze in utemeljitve najde v \cite[str.~233-261]{liu}.

Krepka enica $\ten{1}$ bo pomenila identično linearno preslikavo, $\ten{1}\in\L(\V)$,
$\ten{1}\vek{u}=\vek{u}$ za vsak $\vek{u}\in\V$. Krepka nič $\ten{0}$ pomeni bodisi
ničelni vektor ali pa ničelno linearno preslikavo, odvisno od konteksta.

\emph{Tenzorski produkt} vektorjev $\vek{u},\vek{v}\in\V$ je linearna preslikava
\[
	\vek{u}\otimes\vek{v}\in\L(\V),\qquad
	(\vek{u}\otimes\vek{v})\vek{w}=\langle\vek{v},\vek{w}\rangle\vek{u}\quad\forall\;\vek{w}\in\L(V).
\]
Tenzorski produkt ni komutativen. Če sta $\{\vek{e}_1,\dots,\vek{e}_n\}$ in
$\{\vek{d}_1,\dots,\vek{d}_n\}$ bazi za vektorski prostor $\V$, potem je
$\{\vek{e}_i\otimes\vek{d}_j\;;\ i,j=1,\dots,n\}$ baza za vektorski prostor $\L(\V)$.
Vsak $\ten{A}\in\L(\V)$ se da torej zapisat kot
\[
	\ten{A}=a_{ij}\vek{e}_i\otimes\vek{d}_j,
\]
kjer so $a_{ij}$ realna števila.

\emph{Transponirana linearna preslikava} od $\ten{A}\in\L(\V)$ je linearna preslikava
$\ten{A}^T\in\L(\V)$, za katero velja
\[
	\langle\ten{A}\vek{u},\vek{v}\rangle=\langle\vek{u},\ten{A}^T\vek{v}\rangle,
	\qquad\;\forall \vek{u},\vek{v}\in\V.
\]
Za poljubne $\ten{A},\ten{B}\in\L(\V)$, $\vek{u},\vek{v}\in\V$ velja
\begin{enumerate}[noitemsep]
	\item $(\ten{A}^T)^T=\ten{A}$,
	\item $(\ten{A}\ten{B})^T=\ten{B}^T\ten{A}^T$,
	\item $(\ten{A}^T)^{-1}=(\ten{A}^{-1})^T=:\ten{A}^{-T}$,
	\item $(\vek{u}\otimes\vek{v})^T=\vek{v}\otimes\vek{u}$,
	\item $\ten{A}(\vek{u}\otimes\vek{v})=(\ten{A}\vek{u})\otimes\vek{v}$ in
		$(\vek{u}\otimes\vek{v})\ten{A}=\vek{u}\otimes(\ten{A}^T\vek{v})$.
\end{enumerate}

\emph{Alternirajoča $n$-linearna forma} je $n$-linearna\footnote{Linearna v vsakem argumentu posebaj.} preslikava
\[ \omega\colon\overbrace{\V\times\dots\times\V}^{n}\to\R, \]
tako da za poljubno permutacijo $\sigma$ na množici $\{1,2,\dots,n\}$ in za poljubne
$\vek{u}_1,\vek{u}_2,\dots,\vek{u}_n\in\V$ velja
\[
	\omega(\vek{u}_{\sigma(1)},\vek{u}_{\sigma(2)},\dots,\vek{u}_{\sigma(n)})
	=(\mathrm{sign}\,\sigma)\omega(\vek{u}_1,\vek{u}_2,\dots,\vek{u}_n).
\]
Pri tem je $\mathrm{sign}\,\sigma$ predznak permutacije $\sigma$. $\omega$ je \emph{netrivialna},
če obstajajo taki $\vek{u}_1,\dots,\vek{u}_n\in\V$, da je $\omega(\vek{u}_1,\dots,\vek{u}_n)\neq 0$.
Če so vektorji $\vek{u}_1,\dots,\vek{u}_n$ linearno odvisni, potem je $\omega(\vek{u}_1,\dots,\vek{u}_n)=0$.
Če sta $\omega$ in $\omega'$ alternirajoči $n$-linearni formi in je $\omega$ netrivialna, potem
obstaja $\lambda\in\R$, da je $\omega'(\vek{u}_1,\dots,\vek{u}_n)=\lambda\omega(\vek{u}_1,\dots,\vek{u}_n)$
za vse $\vek{u}_1,\dots,\vek{u}_n\in\V$.

\emph{Determinanta} linearne preslikave $\ten{A}\in\L(\V)$ je realno število $\det\ten{A}$,
za katerega velja
\[
	(\det\ten{A})\omega(\vek{u}_1,\dots,\vek{u}_n)=\omega(\ten{A}\vek{u}_1,\dots,\ten{A}\vek{u}_n)
\]
za poljubno netrivialno alternirajočo $n$-linearno formo $\omega$ in poljubne vektorje $\vek{u}_1,\dots,\vek{u}_n\in\V$.
Definicija je nedvisna od izbire netrivialne forme $\omega$. Za poljubna $\ten{A},\ten{B}\in\L(\V)$ velja
\begin{enumerate}[noitemsep]
	\item $\det(\ten{A}^T)=\det\ten{A}$,
	\item $\det(\ten{A}\ten{B})=(\det\ten{A})(\det\ten{B})$.
\end{enumerate}

\emph{Sled} linearne preslikave $\ten{A}\in\L(\V)$ je realno število $\tr\ten{A}$,
za katerega velja
\[
	(\tr\ten{A})\omega(\vek{u}_1,\dots,\vek{u}_n)
	=\sum_{j=1}^n\omega(\vek{u}_1,\dots,\ten{A}\vek{u}_j,\dots,\vek{u}_n)
\]
za poljubno netrivialno alternirajočo $n$-linearno formo $\omega$ in poljubne vektorje $\vek{u}_1,\dots,\vek{u}_n\in\V$.
Tudi tu je definicija nedvisna od izbire netrivialne forme $\omega$.
Za poljubne $\alpha\in\R$, $\ten{A},\ten{B}\in\L(\V)$, $\vek{u},\vek{v}\in\V$ velja
\begin{enumerate}[noitemsep] \label{traceprop}
	\item $\tr(\alpha\ten{A}+\ten{B})=\alpha\tr\ten{A}+\tr\ten{B}$,
	\item $\tr(\vek{u}\otimes\vek{v})=\langle\vek{u},\vek{v}\rangle$,
	\item $\tr\ten{A}^T=\tr\ten{A}$,
	\item $\tr(\ten{A}\ten{B})=\tr(\ten{B}\ten{A})$.
\end{enumerate}

Običajni skalarni produkt na prostoru $\L(\V)$ je definiran na sledeč način:
\begin{equation*} %\label{e:dotprodnaL}
	\langle\ten{A},\ten{B}\rangle=\tr(\ten{A}^T\ten{B})=\tr(\ten{B}^T\ten{A})
	\qquad\;\forall\;\ten{A},\ten{B}\in\L(\V).
\end{equation*}
Za vse $\ten{A},\ten{B},\ten{C}\in\L(\V)$ velja
\begin{equation} \label{e:skatra}
	\langle\ten{A}\ten{B},\ten{C}\rangle=\langle\ten{B},\ten{A}^{T}\ten{C}\rangle
	=\langle\ten{A},\ten{C}\ten{B}^{T}\rangle.
\end{equation}

Linearna preslikava $\ten{A}\in\L(\V)$ je \emph{simetrična}, če je $\ten{A}=\ten{A}^T$.
$\ten{A}$ je \emph{pozitivno definitna}, če za vsak neničelen $\vek{u}\in\V$ velja
$\langle\vek{u},\ten{A}\vek{u}\rangle >0$.

Vpeljimo naslednje oznake:
\begin{itemize}[noitemsep]
	\item $\mathrm{Inv}(\V)=\{\ten{A}\in\L(\V)\;;\ \det\ten{A}\neq 0 \}$,
	\item $\mathscr{U}(\V)=\{\ten{A}\in\L(\V)\;;\ |\det\ten{A}|=1 \}$,
	\item $\mathscr{O}(\V)=\{\ten{A}\in\L(\V)\;;\ \ten{A}\ten{A}^T=\ten{A}^T\ten{A}=\ten{1} \}$,
	\item $\mathrm{Sym}(\V)=\{\ten{A}\in\L(\V)\;;\ \ten{A}=\ten{A}^T \}$.
\end{itemize}
Množice $\mathrm{Inv}(\V)$, $\mathscr{U}(\V)$ in $\mathscr{O}(\V)$ so za operacijo kompozitum
grupe. $\mathrm{Inv}(\V)$ je grupa vseh obrnljivih linearnih preslikav, $\mathscr{U}(\V)$
je \emph{unitarna grupa}, $\mathscr{O}(\V)$ pa je \emph{ortogonalna grupa} in njeni elementi
se imenujejo \emph{ortogonalne preslikave}. Za grupi $G$ in $H$ naj oznaka $H<G$ pomeni \textit{$H$
je (prava) podgrupa grupe $G$}. Velja $\mathscr{O}(\V)<\mathscr{U}(\V)<\mathrm{Inv}(\V)$.
Množica $\mathrm{Sym}(\V)$ je vektorski podprostor prostora $\L(\V)$, ni pa grupa za kompozitum.
V njem so vse simetrične linearne preslikave.

Če je $\ten{S}\in\mathrm{Sym}(\V)$, potem iz linearne algebre vemo, da so vse lastne
vrednosti preslikave $\ten{S}$ realne. Še več, za prostor $\V$ obstaja ortonormirana baza
iz lastnih vektorjev $\{\vek{u}_1,\dots,\vek{u}_,\}$ preslikave $\ten{S}$. Če je
$\vek{u}_j$ lastni vektor pri lastni vrednosti $a_j$, $j=1,\dots,n$, potem se da po spektralnem
izreku $\ten{S}\in\mathrm{Sym}(\V)$ enolično zapisati kot
\begin{equation} \label{e:spekraz}
	\ten{S}=\sum_{j=1}^n a_j\vek{u}_j\otimes\vek{u}_j.
\end{equation}

$\ten{S}\in\mathrm{Sym}(\V)$ je pozitivno definitna natanko tedaj, ko so vse njene
lastne vrednosti pozitivne. V tem primeru obstaja enolično določena simetrična pozitivno
definitna linearna preslikava $\ten{T}$, tako da velja $\ten{T}^2=\ten{S}$.
$\ten{T}$ imenujemo \emph{kvadratni koren} od $\ten{S}$ in pišemo kar $\ten{T}=\sqrt{\ten{S}}$.
Če je $\ten{S}$ zapisana kot v (\ref{e:spekraz}), potem velja
\[
	\ten{T}=\sqrt{\ten{S}}=\sum_{j=1}^n \sqrt{a_j}\,\vek{u}_j\otimes\vek{u}_j.
\]

\begin{izrek}[Polarni razcep] \label{i:polraz}
	Za vsak $\ten{F}\in\textrm{Inv}(\V)$
	obstajata simetrični pozitivno definitni linearni preslikavi $\ten{V}$ in $\ten{U}$
	ter ortogonalna linearna preslikava $\ten{R}$, tako da velja
	\[
		\ten{F}=\ten{R}\ten{U}=\ten{V}\ten{R}.
	\]
	Pri tem so $\ten{U}$, $\ten{V}$ in $\ten{R}$ z zgornjim razcepom enolično določene.
\end{izrek}

\proof
	Takoj se vidi, da sta preslikavi $\ten{F}\ten{F}^T$ in $\ten{F}^T\ten{F}$
	simetrični, hkrati pa tudi pozitivno definitni, saj je za poljuben neničelen $\vek{u}\in\V$
	\[ 
		\langle\vek{u},\ten{F}^T\ten{F}\vek{u}\rangle=\langle\ten{F}\vek{u},\ten{F}\vek{u}\rangle>0,
	\]
	ker je $\ten{F}$ nesingularna.
	
	Definirajmo
	\begin{equation} \label{e:uandv}
		\ten{U}=\sqrt{\ten{F}^T\ten{F}},\quad\ten{R}=\ten{F}\ten{U}^{-1},\quad
		\ten{V}=\ten{R}\ten{U}\ten{R}^T.
	\end{equation}
	Po definiciji je $\ten{U}$ simetrična pozitivno definitna in $\ten{R}$ je ortogonalna, saj je
	\begin{align*}
		\ten{R}\ten{R}^T&=\ten{F}\ten{U}^{-1}(\ten{F}\ten{U}^{-1})^T
		=\ten{F}\ten{U}^{-1}\ten{U}^{-T}\ten{F}^T \\ &=\ten{F}\ten{U}^{-2}\ten{F}^T
		=\ten{F}(\ten{F}^T\ten{F})^{-1}\ten{F}^T=\ten{1}.
	\end{align*}
	Poleg tega je
	\[
		\ten{V}^2=(\ten{R}\ten{U}\ten{R}^T)(\ten{R}\ten{U}\ten{R}^T)
		=(\ten{R}\ten{U})(\ten{R}\ten{U})^T=\ten{F}\ten{F}^T,
	\]
	torej je $\ten{V}$ kvadratni koren od $\ten{F}\ten{F}^T$ in je zato
	simetrična in pozitivno definitna. Enoličnost sledi iz enoličnosti obstoja
	kvadratnega korena.
\endproof


\subsection{Tenzorska polja, gradient in divergenca}


Rezervirajmo oznako $\W$ za poljuben končnorazsežen normiran vektorski
prostor nad obsegom $\R$. Običajno bo
\[ \W\in\big\{ \R,\V,\L(\V),\L(\V,\L(\V)) \big\}. \]
Če prostor $\W$ ne bo natančno določen, bomo njegove elemente običajno označevali s krepkimi poševnimi simboli, torej kot vektorje.
Funkcije, katerih kodomena je $\V$, $\L(\V)$ ali $\W$, bomo označevali kot elemente teh prostorov.

Naj bo $\U\subseteq\E$. Funkciji $\vek{f}\colon \U\to\W$ rečemo \emph{tenzorsko polje}.
V posebnem primeru, ko je $\W=\R$, ji rečemo \emph{skalarno polje},
v primeru $\W=\V$ pa \emph{vektorsko polje}.

Naj bo $\psi\colon \U\to\R^3$ bijektivna preslikava razreda $C^1$, katere inverz je prav tako
razreda $C^1$. $\psi$ priredi točki v $\U$ njene krivuljne koordinate, torej gre za koordinatni sistem.
Več o krivočrtnih koordinatah bomo govorili v razdelku \ref{s:koordinate}.
Funkciji $\vek{f}\circ\psi^{-1}$ in $\vek{f}\circ\iota^{-1}$ bomo z zlorabo notacije pogosto
označevali enako, kot $\vek{f}$, torej
\[
	\vek{f}(x_1,x_2,x_3):=\vek{f}(\psi^{-1}(x_1,x_2,x_3)),\qquad
	\vek{f}(\vek{x}):=\vek{f}(\iota^{-1}(\vek{x})).
\]

\begin{definicija}
	\emph{Gradient} tenzorskega polja $\vek{f}$ je odvod funkcije $\vek{f}\circ\iota^{-1}$,
	in ga pišemo kot $\nabla\vek{f}$ ali $\grad\vek{f}$.
\end{definicija}
Uporabljali bomo obe oznaki. V skladu s to definicijo je gradient preslikava
$\nabla\vek{f}\colon\iota(\U)\to\L(\V,\W)$, vendar ga dojemamo tudi kot tenzorsko polje
$\nabla\vek{f}\colon\U\to\L(\V,\W)$ na očiten način: za $x\in \U$,
$\vek{x}=\iota(x)$ in $\vek{v}\in\V$ je
\[
	\nabla\vek{f}(x)(\vek{v})=D(\vek{f}\circ\iota^{-1})(\vek{x})(\vek{v}).
\]

Če je $f\colon \U\to\R$ skalarno polje, potem v $x\in \U$ vrednost gradienta $\nabla f(x)$
pripada prostoru $\L(\V,\R)$, kar je linearni funkcional na prostoru $\V$. Po Riezsovem
izreku o reprezentaciji mu enolično pripada vektor $\vek{u}\in\V$, da za vsak
$\vek{v}\in\V$ velja $\nabla f(x)(\vek{v})=\langle\vek{u},\vek{v}\rangle$. V tem primeru po
dogovoru \ref{d:riesz} identificiramo $\nabla f$ s pripadajočim vektorskim poljem in pišemo
\[ \nabla f(x)(\vek{v})=\langle\nabla f(x),\vek{v}\rangle. \]

Če je $\vek{f}\colon \U\to\V$ vektorsko polje, potem je v $x\in \U$ vrednost gradienta $\nabla\vek{f}(x)$
linearna preslikava iz $\V$ v $\V$ in pišemo
\[ \nabla\vek{f}(x)(\vek{v})=\nabla\vek{f}(x)\vek{v}, \]
torej oklepaj opustimo, kot je to tudi sicer v navadi za linearne preslikave.

Oznaka $I$ bo praviloma služila za interval $I=(t_1,t_2)\subset\R$, odprti ali zaprti. Tudi funkciji
$\vek{f}\colon \U\times I\to\W$ bomo rekli \emph{(časovno odvisno) tenzorsko polje}.
Gradient časovno odvisnega tenzorskega polja je definiran kot gradient polja
$\vek{f}(\cdot,t)\colon \U\to\W$, v katerem je spremenljivka $t$ fiksna. Označimo
ga enako, torej $\nabla\vek{f}=\nabla\vek{f}(x,t)$ ali $\grad\vek{f}=\grad\vek{f}(x,t)$.
Odvod funkcije $\vek{f}(x,\cdot)\colon I\to\W$, v kateri je spremenljivka $x$ fiksna,
bomo imenovali \emph{časovni odvod} in ga bomo označili kot parcialni odvod
$\partial\vek{f}/\partial t$.

Medtem ko gradient viša red tenzorskega polja, ga divergenca niža.
\begin{definicija} \label{def:div}
	\emph{Divergenca vektorskega polja} $\vek{u}\colon \U\to\V$ je skalarno polje
	\begin{equation} \label{e:div1}
		\div\vek{u}=\tr(\nabla\vek{u}).
	\end{equation}
	\emph{Divergenca tenzorskega polja} $\ten{S}\colon \U\to\L(\V)$ je vektorsko polje $\div\ten{S}$ z lastnostjo,
	da za vsako konstantno vektorsko polje $\vek{v}$ velja
	\begin{equation} \label{e:div2}
		\langle\vek{v},\div\ten{S}\rangle = \div(\ten{S}^{T}\vek{v}).
	\end{equation}
\end{definicija}

Podajmo nekaj lastnosti gradienta in divergence, ki jih bomo potrebovali v nadaljevanju.
\begin{trditev} \label{t:divprop}
	Za odvedljivo skalarno polje $\phi$ ter odvedljivi vektorski polji $\vek{u}$ in $\vek{v}$ velja
	\begin{enumerate}
		\item $\nabla(\phi\vek{v})=\vek{v}\otimes\nabla\phi+\phi\nabla\vek{v},$
		\item $\nabla\langle\vek{u},\vek{v}\rangle=(\nabla\vek{u})^T\vek{v}+(\nabla\vek{v})^T\vek{u},$
		\item $\div(\phi\vek{v})=\langle\vek{v},\nabla\phi\rangle+\phi\div\vek{v}$,
		\item $\div(\vek{u}\otimes\vek{v})=(\nabla\vek{u})\vek{v}+\vek{u}\div\vek{v}$.
	\end{enumerate}
\end{trditev}
\proof
	Za poljubno konstantno vektorsko polje $\vek{h}$ je
	\begin{align*}
		\nabla(\phi\vek{v})\vek{h}&=
		\langle\nabla\phi,\vek{h}\rangle\vek{v}+\phi(\nabla\vek{v})\vek{h}=
		(\vek{v}\otimes\nabla\phi)\vek{h}+\phi(\nabla\vek{v})\vek{h}\\
		&=\big(\vek{v}\otimes\nabla\phi+\phi\nabla\vek{v}\big)\vek{h},
	\end{align*}
	iz česar sledi prva enakost, ter
	\begin{align*}
		\big<\nabla\langle\vek{u},\vek{v}\rangle,\vek{h}\big>&=\langle(\nabla\vek{u})\vek{h},\vek{v}\rangle
		+\langle\vek{u},(\nabla\vek{v})\vek{h}\rangle=
		\langle(\nabla\vek{u})^T\vek{v},\vek{h}\rangle+\langle(\nabla\vek{v})^T\vek{u},\vek{h}\rangle\\
		&=\big<(\nabla\vek{u})^T\vek{v}+(\nabla\vek{v})^T\vek{u},\vek{h}\big>,
	\end{align*}
	iz česar sledi druga enakost. Tretjo enakost dokažemo neposredno:
	\begin{align*}
		\div(\phi\vek{v})&=\tr\big(\nabla(\phi\vek{v})\big)=\tr(\vek{v}\otimes\nabla\phi+\phi\nabla\vek{v})\\
		&=\tr(\vek{v}\otimes\nabla\phi)+\phi\tr(\nabla\vek{v})=\langle\vek{v},\nabla\phi\rangle+\phi\div\vek{v}.
	\end{align*}
	Pri tem smo uporabili definicijo divergence (\ref{e:div1}), prvo enakost trditve in lastnosti za sled,
	podane na str.~\pageref{traceprop}.
	
	Za poljubno konstantno vektorsko polje $\vek{w}$ je
	\begin{align*}
		\langle\vek{w},\div(\vek{u}\otimes\vek{v})\rangle&=\div\big((\vek{u}\otimes\vek{v})^T\vek{w}\big)=
		\div\big((\vek{v}\otimes\vek{u})\vek{w}\big)\\
		&=\div\big(\langle\vek{u},\vek{w}\rangle\vek{v}\big)
		=\big<\vek{v},\nabla\langle\vek{u},\vek{w}\rangle\big>+\langle\vek{u},\vek{w}\rangle\div\vek{v}\\
		&=\langle(\nabla\vek{u})\vek{v},\vek{w}\rangle+\langle\vek{u}\div\vek{v},\vek{w}\rangle
		=\big<(\nabla\vek{u})\vek{v}+\vek{u}\div\vek{v},\vek{w}\big>,
	\end{align*}
	iz česar sledi četrta enakost. Pri tem smo uporabili definicijo divergence (\ref{e:div2}) ter
	tretjo in drugo enakost trditve, pri čemer smo upoštevali, da je $\nabla\vek{w}=\ten{0}$.
\endproof


\subsection{Integralski izreki}


\begin{trditev}\label{t:oiz}
	Naj bo $\U\subseteq\E$ odprta množica ter $f\colon \U\to \R$ zvezno skalarno polje.
	Če za vsako podmnožico $\mathcal{N}\subseteq \U$ velja
	\[ \int_{\mathcal{N}} f\,dv=0, \]
	potem je $f(x)=0$ za vsak $x\in \U$.
\end{trditev}
\proof
	Recimo, da obstaja $x_0\in \U$, da je $f(x_0)> 0$. Če je $f(x_0)< 0$, potem gledamo polje $-f$.
	Ker je $f$ zvezno, obstaja okolica $\mathcal{N}\subseteq \U$ točke $x_0$ z volumnom $v(\mathcal{N})>0$, tako da je $f(x)>0$
	za vsak $x\in \mathcal{N}$. Po izreku o povprečni vrednosti iz analize obstaja točka $\xi\in \mathcal{N}$, da je
	\[ \int_{\mathcal{N}}f\,dv=v(\mathcal{N})f(\xi)> 0, \]
	kar nasprotuje predpostavki iz izreka, torej take točke $x_0\in \U$ ni.
\endproof

\begin{definicija}
	\begin{itemize}
		\item
		Območje $\B\subset\E$ je \emph{regularno}, če je njegov rob $\partial \B$ sestavljen
		iz končnega števila orientabilnih ploskev.
		\item
		Točka na robu $\partial\B$ je \emph{regularna}, če obstaja enotska normala
		na rob $\partial\B$ v tej točki, sicer je \emph{neregularna}.
	\end{itemize}
\end{definicija}
Ploskev je že po definiciji regularna parametrizacija iz neke podmnožice v $\R^2$ z neprazno notranjostjo,
ki slika v $\E$. Da je regularna pomeni, da obstaja odvod te parametrizacije na celotni domeni in
rang odvoda je 2. Ekvivalentno, obstaja normala na ploskev v vsaki točki ploskve.
Neregularne točke na robu $\partial\B$ se lahko pojavijo tam, kjer se stikata dve ali več ploskev,
pa prehod med ploskvama ni gladek.
Množica vseh neregularnih točk na robu regularnega območja ima ploščinsko mero oz.~ploščino enako 0.

\begin{izrek}[Divergenčni izrek] \label{i:divtheo}
	Naj bo $\B$ regularno območje v $\E$ in $\vek{n}$ vektorsko polje zunanje enotske normale,
	definirano na množici vseh regularnih točk robu $\partial \B$. Naj bodo $\phi\colon\overline{\B}\to\R$,
	$\vek{u}\colon\overline{\B}\to V$ ter $\ten{S}\colon\overline{\B}\to\L(V)$
	zvezna polja, odvedljiva v notranjosti območja $\B$. Potem velja
	\begin{align*}
		\int_{\partial \B} \phi\vek{n}\,da &= \int_{\B} \grad\phi\,dv, \\
		\int_{\partial \B} \langle\vek{u},\vek{n}\rangle\,da &= \int_{\B} \div\vek{u}\,dv, \\
		\int_{\partial \B} \ten{S}\vek{n}\,da &= \int_{\B} \div\ten{S}\,dv.
	\end{align*}
\end{izrek}
\proof
	Druga enakost je splošno znan \emph{Gaussov izrek} iz vektorske analize, zato ga tukaj ne bomo dokazovali.
	Naj bo $\vek{w}$ poljubno konstantno vektorsko polje. Potem je
	\begin{align*}
		\left<\vek{w},\int_{\partial \B}\phi\vek{n}\,da\right>
		&= \int_{\partial \B}\langle\phi\vek{w},\vek{n}\rangle\,da=
		\int_{\B}\div(\phi\vek{w})\,dv \\
		&= \int_{\B}\langle\vek{w},\grad\phi\rangle \,dv = \left<\vek{w},\int_{\B}\grad\phi \,dv\right>,
	\end{align*}
	s čimer smo dokazali prvo enakost.
	Pri tem smo uporabili Gaussov izrek, tretjo enakost iz trditve (\ref{t:divprop}) ter
	upoštevali, da je $\div\vek{w}=0$.
	
	Zopet naj bo $\vek{w}$ poljubno konstantno vektorsko polje. Potem je
	\begin{align*}
		\left<\vek{w},\int_{\partial \B}\ten{S}\vek{n}\,da\right>
		&= \int_{\partial \B}\langle\vek{w},\ten{S}\vek{n}\rangle\,da=
		\int_{\partial \B}\langle\ten{S}^T\vek{w},\vek{n}\rangle\,da=
		\int_{\B}\div(\ten{S}^T\vek{w})\,dv \\ &=\int_{\B}\langle\vek{w},\div\ten{S}\rangle\,dv=
		\left<\vek{w},\int_{\B}\div\ten{S}\,dv\right>,
	\end{align*}
	kjer smo zopet uporabili Gaussov izrek in definicijo divergence (\ref{e:div2}). S tem smo dokazali še tretjo enakost.
\endproof


\section{Krivuljne koordinate} \label{s:koordinate}


\subsection{Koordinatni sistem}


\begin{definicija}
	Naj bo $\U\subseteq\E$ odprta množica. \emph{Koordinatni sistem} na $\U$ je bijektivna
	preslikava $\psi\colon \U\to V$ razreda $C^r$ (običajno je $r$ vsaj 2), kjer je $V$ odprta
	množica v $\R^3$, inverz $\psi^{-1}$ pa je prav tako razreda $C^r$.
\end{definicija}

Naj bo $x\in \U$ in
\[ \psi\colon x\mapsto (x^1,x^2,x^3)=\psi(x). \]
$(x^1,x^2,x^3)$ so \emph{(krivuljne) koordinate} točke $x$.
Za $i\in\{1,2,3\}$ se funkcija
\[ \psi^i\colon \U\to\R,\qquad \psi^i(x)=x^i \]
imenuje \emph{$i$-ta koordinatna funkcija} koordinatnega sistema $\psi$.

Naj bodo $(x^1,x^2,x^3)$ koordinate točke $x\in \U$. Z $\vek{j}_i$ označimo
$i$-ti vektor iz standardne baze za $\R^3$,
\[ \vek{j}_1=(1,0,0),\quad\vek{j}_2=(0,1,0),\quad\vek{j}_3=(0,0,1). \]
Za pozitivno realno število $\varepsilon$ je slika preslikave
\begin{equation} \label{e:kokri}
	\gamma_i\colon(-\varepsilon,\varepsilon)\to \U,\qquad
	\gamma_i(t)=\psi^{-1}\big((x^1,x^2,x^3)+t\vek{j}_i\big),\qquad i=1,2,3,
\end{equation}
\emph{$i$-ta koordinatna krivulja} v $\U$, ki gre pri $t=0$ skozi točko $x$.
V točki $x$ lahko definiramo \emph{kovariantne vektorje}
\begin{equation} \label{e:tanvek}
	\vek{g}_i(x)=\at{\frac{d}{dt}\vek{\gamma}_i(t)}{t=0}=\vek{\gamma}_i'(0)
	=\at{\frac{\partial\vek{\psi}^{-1}}{\partial x^i}}{(x^1,x^2,x^3)}
	, \qquad i=1,2,3
\end{equation}
in \emph{kontravariantne vektorje}
\begin{equation} \label{e:gradvek}
	\vek{g}^i(x)=\nabla\psi^i(x),\qquad i=1,2,3.
\end{equation}

\begin{trditev}
	Množica $\{\vek{g}_i(x)\}_i$ tvori bazo za translacijski prostor $\V$.
\end{trditev}

\proof
	Naj bo $\vek{u}\in\V$ poljuben in definirajmo krivuljo skozi $x$ s predpisom
	\[ \gamma\colon(-\varepsilon,\varepsilon)\to \U,\qquad \gamma(t)=x+t\vek{u}. \]
	Velja
	\[
		\vek{u}=\at{\frac{d}{dt}\vek{\gamma}(t)}{t=0}\quad\textrm{in}\quad
		\gamma(t)=\psi^{-1}\big(\psi^1(x+t\vek{u}),\psi^2(x+t\vek{u}),\psi^3(x+t\vek{u})\big),
	\]
	zato je
	\[
		\vek{u}=
		\at{\frac{\partial\vek{\psi}^{-1}}{\partial x^i}}{(x^1,x^2,x^3)}
		\at{\frac{d}{dt}\psi^i(x+t\vek{u})}{t=0}=
		\at{\frac{d}{dt}\psi^i(x+t\vek{u})}{t=0}\vek{g}_i(x).
	\]
	Z drugimi besedami, $\{\vek{g}_i(x)\}_{i}$ razpenja prostor $\V$.
\endproof

Kovariantni in kontravariantni vektorji so definirani v vsaki točki množice $\U$, torej
gre v bistvu za vektorska polja. V vsaki točki $x\in \U$ se baza $\{\vek{g}_i(x)\}_i$ prostora $\V$
imenuje \emph{kovariantna baza}.
Množica $\{\vek{g}^i(x)\}_i$ je prav tako baza za $\V$, imenovana \emph{kontravariantna baza},
in je dualna bazi $\{\vek{g}_i(x)\}_i$. Res, iz zveze
\[ x^i=\psi^i(\psi^{-1}(x^1,x^2,x^3)) \]
dobimo po verižnem pravilu
\begin{equation} \label{e:gigj}
	\topbot{\delta}{i}{j}=\frac{\partial x^i}{\partial x^j}=
	\Big<\nabla\psi^i,\frac{\partial\vek{\psi}^{-1}}{\partial x^j}\Big>=\langle\vek{g}^i,\vek{g}_j\rangle.
\end{equation}
Skalarna polja
\[ g_{ij}=\langle\vek{g}_i,\vek{g}_j\rangle\qquad\textrm{in}\qquad g^{ij}=\langle\vek{g}^i,\vek{g}^j\rangle \]
imenujemo \emph{koeficienti metričnega tenzorja}. 
Iz zadnjih treh zvez hitro vidimo, da velja
\begin{equation} \label{e:relzag}
	g^{ik}g_{kj}=\topbot{\delta}{i}{j},\qquad \vek{g}^i=g^{ik}\vek{g}_k,\qquad \vek{g}_i=g_{ik}\vek{g}^k.
\end{equation}


\subsection{Koordinatna transformacija}


Naj bosta $\psi$ in $\bar{\psi}$ oz.~$(x^i)$ in $(\bar{x}^i)$ koordinatna sistema za
$\U\subseteq\E$ s kovariantima bazama $\{\vek{g}_i(x)\}_i$ oz.~$\{\bar{\vek{g}}_i(x)\}_i$
in kontravariantnima bazama $\{\vek{g}^i(x)\}_i$ oz.~$\{\bar{\vek{g}}^i(x)\}_i$.
Koordinatna transformacija je podana s preslikavami
\[
	x^i=x^i(\bar{x}^1,\bar{x}^2,\bar{x}^3)\quad\Longleftrightarrow\quad
	\bar{x}^k=\bar{x}^k(x^1,x^2,x^3).
\]
Za kovariantne in kontravariantne vektorje velja
\begin{equation} \label{e:gtog}
	\vek{g}^i=\frac{\partial x^i}{\partial\bar{x}^k}\bar{\vek{g}}^k,\qquad
	\vek{g}_i=\frac{\partial\bar{x}^k}{\partial x^i}\bar{\vek{g}}_k.
\end{equation}
Prvo enakost dobimo kot gradient funkcije $x^i$ iz koordinatne transformacije,
drugo enakost pa dobimo s parcialnim odvajanjem enakosti
\[ 
	\psi^{-1}(x^1,x^2,x^3)=\bar{\psi}^{-1}(\bar{x}^1(x^1,x^2,x^3),
	\bar{x}^2(x^1,x^2,x^3),\bar{x}^3(x^1,x^2,x^3)).
\]

%Naj bo $(x^1,x^2,x^3)$ in $(\bar{x}^1,\bar{x}^2,\bar{x}^3)$ dvoje koordinat točke $x\in U\subseteq\E$.
%Če je $f\colon U\to\R$ skalarno polje, potem bomo brez posebnih oznak pisali
%\[ f(x)=f(x^1,x^2,x^3)=f(\bar{x}^1,\bar{x}^2,\bar{x}^3). \]
Če je $\vek{u}\colon \U\to\V$ vektorsko polje, potem ga lahko zapišemo v komponentni
obliki glede na eno od baz prostora $\V$:
\begin{align}
	\vek{u}&=u_i\,\vek{g}^i=u^i\,\vek{g}_i \nonumber \\
	&=\bar{u}_i\,\bar{\vek{g}}^i=\bar{u}^i\,\bar{\vek{g}}_i, \label{e:vekkomp}
\end{align}
Pri tem so komponente $u_i,u^i,\dots$ skalarna polja.
Prav tako lahko tenzorsko polje $\ten{S}\colon \U\to\L(\V)$ zapišemo v
komponentni obliki glede na eno od baz prostora $\L(\V)$:
\begin{align}
	\ten{S}&=S_{ij}\,\vek{g}^i\otimes\vek{g}^j=\topbot{S}{i}{j}\,\vek{g}_i\otimes\vek{g}^j \nonumber \\
	&=\bar{S}_{ij}\,\bar{\vek{g}}^i\otimes\bar{\vek{g}}^j=
	\topbot{\bar{S}}{i}{j}\,\bar{\vek{g}}_i\otimes\bar{\vek{g}}^j \label{e:tenkomp}
\end{align}
Tudi tu so $S_{ij},\topbot{S}{i}{j},\dots$ skalarna polja.
Posamezne komponente vektorskih in tenzoskih polj dobimo s pomočjo zveze (\ref{e:gigj})
iz (\ref{e:vekkomp}) in (\ref{e:tenkomp}):
\begin{gather}
	u_i=\langle\vek{g}_i,\vek{u}\rangle,\qquad u^i=\langle\vek{g}^i,\vek{u}\rangle, \label{e:kompvek} \\
	S_{ij}=\langle\vek{g}_i,\ten{S}\vek{g}_j\rangle,\qquad\topbot{S}{i}{j}=\langle\vek{g}^i,\ten{S}\vek{g}_j\rangle.\label{e:kompten}
\end{gather}
S pomočjo (\ref{e:gtog}) dobimo naslednje zveze med posameznimi komponentami:
\begin{gather*}
	\bar{u}_i=\frac{\partial x^k}{\partial\bar{x}^i}u_k, \qquad
	\bar{u}^i=\frac{\partial\bar{x}^i}{\partial x_k}u_k, \\
	\bar{S}_{ij}=\frac{\partial x^k}{\partial\bar{x}^i}\frac{\partial x^l}{\partial\bar{x}^j}S_{kl}, \qquad
	\topbot{\bar{S}}{i}{j}=\frac{\partial\bar{x}^i}{\partial x^k}\frac{\partial x^l}{\partial\bar{x}^j}\topbot{S}{k}{l}.
\end{gather*}

Če je $\vek{u}=u_k\vek{g}^k$ poljubno vektorsko polje, je
\begin{equation} \label{e:iten}
	(\vek{g}^i\otimes\vek{g}_i)\vek{u}=(\vek{g}^i\otimes\vek{g}_i)u_k\vek{g}^k=
	u_k\bottop{\delta}{i}{k}\vek{g}^i=u_k\vek{g}^k=\vek{u},
\end{equation}
torej je $\vek{g}^i\otimes\vek{g}_i=\ten{1}$, identična linearna preslikava, in to
v vsaki točki množice $\U$. Seveda velja tudi $\vek{g}_i\otimes\vek{g}^i=\ten{1}$.


\subsection{Gradient in kovariantni odvod}


Do konca tega razdelka naj velja, da so vsa obravnavan tenzorska polja razreda
$C^{1}$ ali $C^{2}$, kar bo razvidno samo po sebi.

Naj bo $\psi$ oz.~$(x^i)$ koordinatni sistem na $\U\subseteq\E$ z naravnima bazama $\{\vek{g}_i\}_i$ in $\{\vek{g}^i\}_i$.
Ker so gradienti tenzorskih polj tudi tenzorska polja, jih lahko zapišemo v komponentni obliki.

Naj bo $\vek{f}\colon \U\to\W$ tenzorsko polje. Če je $\gamma_i$ $i$-ta
koordinatna krivulja, ki gre pri $t=0$ skozi točko $x$, potem iz (\ref{e:tanvek}) dobimo
\begin{equation*}
	\at{\frac{d}{dt}\vek{f}(\gamma_i(t))}{t=0}=
	\nabla \vek{f}(x)(\vek{\gamma}_i'(0))=\nabla \vek{f}(x)(\vek{g}_i(x)),
\end{equation*}
po drugi strani pa imamo po (\ref{e:kokri})
\begin{equation*}
	\at{\frac{d}{dt}\vek{f}(\gamma_i(t))}{t=0}=
	\at{\frac{d}{dt}\vek{f}\big(\psi^{-1}((x^1,x^2,x^3)+t\vek{j}_i)\big)}{t=0}=
	\at{\frac{\partial(\vek{f}\circ\psi^{-1})}{\partial x^i}}{(x^1,x^2,x^3)}.
\end{equation*}
Po dogovoru bomo namesto $\vek{f}\circ\psi^{-1}$ pisali kar $\vek{f}$. Če izenačimo oba rezultata, dobimo
\begin{equation} \label{e:sotf}
	\frac{\partial\vek{f}}{\partial x^i}(x^1,x^2,x^3)=\nabla \vek{f}(x)(\vek{g}_i(x)).
\end{equation}
V primeru, ko je $f$ skalarno polje, iz enačbe (\ref{e:kompvek}) in iz pravkar izpeljane enačbe
dobimo $(\nabla f)_i=\langle\nabla f,\vek{g}_i\rangle=\partial f/\partial x^i$, torej je
\begin{equation} \label{e:gradskal}
	\nabla f = \frac{\partial f}{\partial x^i}\,\vek{g}^i.
\end{equation}

Preden nadaljujemo z gradienti vektorskih polj, vpeljimo najprej standardne oznake
za gradiente kovariantnih in kontravariantnih vektorskih polj:
\begin{equation} \label{e:cs} %former label: e:gradg
	\nabla\vek{g}_i=\ten{\Gamma}_i=\cs{i}{j}{k}\,\vek{g}_j\otimes\vek{g}^k,\qquad
	\nabla\vek{g}^i=\ten{\Gamma}^i=\ks{i}{jk}\,\vek{g}^j\otimes\vek{g}^k.
\end{equation}
Tu sta $\ten{\Gamma}_i,\ten{\Gamma}^i\colon \U\to\L(\V)$ tenzorski polji drugega reda,
komponente $\cs{i}{j}{k}$ in $\ks{i}{jk}$ pa se imenujejo \emph{Christoffelovi simboli}
in ne gre za komponente kakega tenzorja tretjega reda. Če v enačbi (\ref{e:sotf})
za $\vek{f}$ vstavimo vektorsko polje $\vek{g}_i$ oz.~$\vek{g}^i$ in upoštevamo
(\ref{e:kompten}) in (\ref{e:cs}), dobimo
\begin{equation} \label{e:csexplicit}
	\cs{i}{j}{k}=\Big<\vek{g}^j,\frac{\partial\vek{g}_i}{\partial x^k}\Big>
	=-\Big<\vek{g}_i,\frac{\partial\vek{g}^j}{\partial x^k}\Big>,\qquad
	\ks{i}{jk}=\Big<\vek{g}_j,\frac{\partial\vek{g}_i}{\partial x^k}\Big>.
\end{equation}
Pri tem je drugi izraz za $\cs{i}{j}{k}$ dobljen iz prvega s parcialnim odvajanjem
enakosti $\langle\vek{g}^i,\vek{g}_j\rangle=\topbot{\delta}{i}{j}$ po spremenljivki $x^k$.

Če po pravilu (\ref{t:divprop})$_2$ izračunamo gradient izraza $\langle\vek{g}^i,\vek{g}_j\rangle$,
ki je $\vek{0}$, in upoštevamo, da velja\footnote{
$\langle(\vek{u}\otimes\vek{v})\vek{a},\vek{b}\rangle=\langle\vek{v},\vek{a}\rangle\langle\vek{u},\vek{b}\rangle=
\langle\vek{a},(\vek{v}\otimes\vek{u})\vek{b}\rangle$}
$(\vek{u}\otimes\vek{v})^{T}=\vek{v}\otimes\vek{u}$
za poljubna vektorja $\vek{u}$ in $\vek{v}$ ter da je transponiranje linearna operacija,
potem dobimo zvezo
\begin{equation} \label{e:lcs1}
	\cs{j}{i}{k}=-\ks{i}{jk}.
\end{equation}
Nadalje, ker je $\ten{\Gamma}^i=\nabla(\nabla\psi^i)$ in je drugi gradient
simetrični tenzor\footnote{$(\nabla(\nabla\psi^i))^T=\nabla(\nabla\psi^i)$ \cite[str.~271]{liu}},
veljata še naslednji zvezi:
\[ \ks{i}{jk}=\ks{i}{kj},\qquad\cs{j}{i}{k}=\cs{k}{i}{j}. \]
Ker je zaradi teh zvez možno prehajati iz ene vrste simbolov v drugo vrsto,
so v uporabi zgolj simboli $\cs{i}{j}{k}$, imenovani Christoffelovi simboli druge vrste.

Naj bo sedaj $\vek{u}\colon \U\to\V$ vektorsko polje, v komponentni obliki
zapisano kot
\[ \vek{u}=u^j\vek{g}_j=u_k\vek{g}^k. \]
Njegov gradient zavzema vrednosti v prostoru $\L(\V)$, zato ga lahko zapišemo v komponentni obliki
\begin{equation} \label{e:gradukomp}
	\nabla\vek{u}=\topbot{u}{j}{,k}\,\vek{g}_j\otimes\vek{g}^k.
\end{equation}
Poiščimo izraz za komponente $\topbot{u}{j}{,k}$. Z upoštevanjem
(\ref{e:kompten}) in (\ref{e:sotf}) dobimo
\begin{align}
	\topbot{u}{j}{,k}&=\Big<\vek{g}^j,\frac{\partial\vek{u}}{\partial x^k}\Big>=
	\Big<\vek{g}^j,\frac{\partial(u^i\vek{g}_i)}{\partial x^k}\Big> \nonumber \\
	&=\Big<\vek{g}^j,\frac{\partial u^i}{\partial x^k}\vek{g}_i+
	u^i\frac{\partial\vek{g}_i}{\partial x^k}\Big> \nonumber \\
	&=\frac{\partial u^j}{\partial x^k}+u^i\cs{i}{j}{k}. \label{e:kovod1}
\end{align}
Pri tem smo na zadnjem koraku upoštevali relacijo (\ref{e:csexplicit}). Dobljena enakost (\ref{e:kovod1})
za $\topbot{u}{j}{,k}$ je t.~i.~\emph{kovariantni odvod} komponentne $u^j$ po spremenljivki $x^k$.

Če zapišemo
\begin{equation} \label{e:nimena1}
	\nabla\vek{u}=u_{j,k}\,\vek{g}^j\otimes\vek{g}^k,
\end{equation}
in ponovimo prejšnji postopek, kjer dodatno uporabimo relacijo (\ref{e:lcs1}), dobimo
\begin{equation} \label{e:kov2}
	u_{j,k}=\frac{\partial u_j}{\partial x^k}-u_i\cs{j}{i}{k}.
\end{equation}
\begin{primer}
	Če v izrazu $\vek{u}=u_j\vek{g}^j$ vstavimo za $u_j=\partial f/\partial x^j$,
	kar so komponente od $\nabla f$ v izrazu (\ref{e:gradskal}), ter vstavimo v
	(\ref{e:kov2}), rezultat pa nato v (\ref{e:nimena1}), dobimo
	\begin{equation} \label{e:dvagrad}
		%\Big(\frac{\partial f}{\partial x^j}\Big)_{,k}
		\nabla(\nabla f)=\Big(\frac{\partial^2 f}{\partial x^j\partial x^k}-
		\frac{\partial f}{\partial x^i}\cs{j}{i}{k}\Big)\vek{g}^j\otimes\vek{g}^k.
	\end{equation}
\end{primer}

Naj bo $\ten{S}\colon \U\to\L(\V)$. Potem je $\nabla\ten{S}\colon \U\to\L(\V,\L(\V))$
in ga v komponentni obliki lahko razpišemo glede na bazo prostora $\L(\V,\L(\V))$ kot
\[ \nabla\ten{S}=\topbot{S}{ij}{,k}\vek{g}_i\otimes\vek{g}_j\otimes\vek{g}^k. \]
Iz (\ref{e:sotf}) dobimo
\[
	\frac{\partial\ten{S}}{\partial x^k}=(\nabla\ten{S})(\vek{g}_k)=
	(\topbot{S}{ij}{,l}\vek{g}_i\otimes\vek{g}_j\otimes\vek{g}^l)\vek{g}_k=
	\topbot{S}{ij}{,k}\vek{g}_i\otimes\vek{g}_j.
\]
Če na dobljeni enakosti uporabimo (\ref{e:kompten}), dobimo
\begin{align*}
	\topbot{S}{ij}{,k}&=\Big<\vek{g}^i,\frac{\partial\ten{S}}{\partial x^k}\vek{g}^j\Big>=
	\Big<\vek{g}^i,\frac{\partial(S^{lr}\vek{g}_l\otimes\vek{g}_r)}{\partial x^k}\vek{g}^j\Big> \\
	&=\Big<\vek{g}^i,\Big(
	\frac{\partial S^{lr}}{\partial x^k}\vek{g}_l\otimes\vek{g}_r+
	S^{lr}\frac{\partial\vek{g}_l}{\partial x^k}\otimes\vek{g}_r+
	S^{lr}\vek{g}_l\otimes\frac{\partial\vek{g}_r}{\partial x^k}
	\Big)\vek{g}^j\Big> \\
	&=\frac{\partial S^{ij}}{\partial x^k}+S^{lj}\cs{l}{i}{k}+S^{ir}\cs{r}{j}{k}.
\end{align*}
Preostale komponente za $\nabla\ten{S}$ dobimo na enak način.


\subsection{Divergenca}


Sled tenzorja $\ten{S}\in\L(\V)$ s komponentno obliko (\ref{e:tenkomp})
je\footnote{$\tr\ten{S}=\topbot{S}{i}{j}\tr(\vek{g}_i\otimes\vek{g}^j)=
\topbot{S}{i}{j}\langle\vek{g}_i,\vek{g}^j\rangle=\topbot{S}{i}{i}$ \cite[str.~249]{liu}}
\[ \tr\,\ten{S}=\topbot{S}{i}{i}=g^{ij}S_{ij}. \]
Če je $\vek{u}$ vektorsko polje, potem iz (\ref{e:gradukomp}) in (\ref{e:nimena1}) dobimo
\begin{equation} \label{e:divu}
	\div\vek{u} = \tr(\nabla\vek{u}) = \topbot{u}{i}{,i} = g^{ij}u_{i,j}.
\end{equation}

Poiščimo še izraz za divergenco tenzorskega polja $\ten{S}\colon \U\to\L(\V)$.
Iz (\ref{e:divu}) dobimo za poljubno vektorsko polje $\vek{u}=u_k\vek{g}^k$
\[
	\div(\ten{S}^{T}\vek{u})=\div(S^{ij}\vek{g}_j\otimes\vek{g}_i u_k\vek{g}^k)
	=\div(S^{ij}u_i\vek{g}_j)=(S^{ij}u_i)_{,\,j}.
\]
Bralec se lahko sam prepriča, da tudi za kovariantni odvod produkta velja
podobno pravilo, kot ga poznamo za običaji odvod, zato imamo
\[
	(S^{ij}u_i)_{,\,j}=\topbot{S}{ij}{\,,j}u_i+S^{ij}u_{i,\,j}=
	\topbot{S}{ij}{,\,j}\langle\vek{g}_i,\vek{u}\rangle+\tr(\ten{S}^{T}\nabla\vek{u}).
\]
Dobili smo enakost
\begin{equation} \label{e:divStu}
	\div(\ten{S}^{T}\vek{u})=\topbot{S}{ij}{,\,j}\langle\vek{g}_i,\vek{u}\rangle+\tr(\ten{S}^{T}\nabla\vek{u}).
\end{equation}
Če je $\vek{u}$ konstantno vektorsko polje, potem je $\nabla\vek{u}=\ten{0}$ in v
enačbi (\ref{e:divStu}) s pomočjo definicije \ref{def:div} prepoznamo izraz za $\div\ten{S}$, ki je
\[
	\div\ten{S}=\topbot{S}{ij}{,\,j}\vek{g}_i.
\]
Če dobljeni izraz vstavimo nazaj v enačbo (\ref{e:divStu}) in zamenjamo $\ten{S}$ z
$\ten{S}^{T}$, dobimo naslednjo trditev.
\begin{trditev} \label{e:divSu}
	Za poljubno tenzorsko polje $\ten{S}\in C^1(\U,\L(\V))$ in poljubno
	vektorsko polje $\vek{u}\in C^1(\U,\V)$ velja
	\[ \div(\ten{S}\vek{u})=\langle\vek{u},\div\ten{S}^{T}\rangle+\tr(\ten{S}\nabla\vek{u}). \]
\end{trditev}